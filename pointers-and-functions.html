<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pointers and Functions</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Pointers and Functions in C</h1>
        <a href="index.html">Back to Home</a>
        <a href="introduction.html">Introduction</a>
        <a href="pointer-arithmetic.html">Pointer Arithmetic</a>
        <a href="pointers-and-arrays.html">Pointers and Arrays</a>
        <a href="dynamic-memory-allocation.html">Dynamic Memory Allocation</a>
    </header>
    <main>
        <section>
            <h2>Understanding Pointers in Functions</h2>
            <p>Pointers enable functions to modify variables directly, allowing for efficient memory usage and avoiding unnecessary copies, especially with large data structures.</p>
            
            <h3>Benefits of Using Pointers in Functions:</h3>
            <ul>
                <li>Modify original variables</li>
                <li>Pass large structures efficiently</li>
                <li>Implement callback functions</li>
            </ul>
        </section>

        <section>
            <h3>Example: Modifying a Variable Through a Pointer</h3>
            <pre><code>
#include <stdio.h>

void increment(int *p) {
    (*p)++; // Increment the value at the address pointed by p
}

int main() {
    int num = 5;
    increment(&num); // Pass address of num
    printf("Updated value: %d\n", num); // Output will be 6
    return 0;
}
            </code></pre>
            <p>In this example, the function <code>increment</code> takes a pointer to an integer. By passing the address of <code>num</code>, it modifies the variable directly.</p>
        </section>

        <section>
            <h3>Passing Arrays to Functions</h3>
            <p>When arrays are passed into functions, they decay to pointers. This means the function can directly modify the elements of the array:</p>
            <pre><code>
#include <stdio.h>

void modifyArray(int *arr, int size) {
    for (int i = 0; i < size; i++) {
        arr[i] += 10; // Increase each element by 10
    }
}

int main() {
    int myArray[5] = {1, 2, 3, 4, 5};
    modifyArray(myArray, 5); // Pass array to the function
    
    for (int i = 0; i < 5; i++) {
        printf("%d ", myArray[i]); // Outputs: 11 12 13 14 15
    }
    return 0;
}
            </code></pre>
            <p>This allows direct manipulation of the array elements inside the function, demonstrating the power of pointers in C.</p>
        </section>

        <section>
            <h3>Returning Pointers from Functions</h3>
            <p>Functions can return pointers, but this needs to be done with caution, especially when returning addresses of local variables.</p>
            <pre><code>
#include <stdio.h>
#include <stdlib.h>

int* createArray(int size) {
    return (int*)malloc(size * sizeof(int)); // Dynamically allocate array
}

int main() {
    int *arr = createArray(5); // Get pointer to dynamically allocated array
    for (int i = 0; i < 5; i++) {
        arr[i] = (i + 1) * 10; // Initialize
        printf("%d ", arr[i]);
    }
    
    free(arr); // Free allocated memory
    return 0;
}
            </code></pre>
            <p>In this example, the function <code>createArray</code> dynamically allocates memory for an array and returns a pointer to it. The caller is responsible for freeing the allocated memory to avoid leaks.</p>
        </section>

        <section>
            <h3>Memory Management Tips</h3>
            <ul>
                <li>Always check if memory allocation was successful by verifying that the returned pointer is not <code>NULL</code>.</li>
                <li>After dynamically allocating memory, ensure you use <code>free</code>() to release the memory when it's no longer needed.</li>
                <li>Never return a pointer to a local variable from a function as it will not exist after the function exits.</li>
            </ul>
        </section>

        <section>
            <h2>Quiz: Pointers and Functions</h2>
            <div id="quiz">
                <p>1. What is the primary benefit of passing a pointer to a function?</p>
                <label for="q1">
                    <input type="radio" name="q1" value="Can modify original variables"> Can modify original variables<br>
                    <input type="radio" name="q1" value="Pass larger structures easily"> Pass larger structures easily<br>
                    <input type="radio" name="q1" value="Both"> Both<br>
                </label>

                <p>2. If a function receives a pointer as a parameter, what can it do?</p>
                <label for="q2">
                    <input type="radio" name="q2" value="Only read the value"> Only read the value<br>
                    <input type="radio" name="q2" value="Modify the variable"> Modify the variable<br>
                    <input type="radio" name="q2" value="Nothing special"> Nothing special<br>
                </label>

                <p>3. What happens when you pass an array to a function?</p>
                <label for="q3">
                    <input type="radio" name="q3" value="A copy of the array is passed"> A copy of the array is passed<br>
                    <input type="radio" name="q3" value="The pointer to the first element is passed"> The pointer to the first element is passed<br>
                    <input type="radio" name="q3" value="An error occurs"> An error occurs<br>
                </label>

                <p>4. How can you return a pointer from a function?</p>
                <label for="q4">
                    <input type="radio" name="q4" value="Directly from the function"> Directly from the function<br>
                    <input type="radio" name="q4" value="Only if it is a local variable"> Only if it is a local variable<br>
                    <input type="radio" name="q4" value="It is not possible"> It is not possible<br>
                </label>

                <p>5. What will happen if you decrement a pointer?</p>
                <label for="q5">
                    <input type="radio" name="q5" value="It moves to the previous memory location of the same type"> It moves to the previous memory location of the same type<br>
                    <input type="radio" name="q5" value="It moves randomly"> It moves randomly<br>
                    <input type="radio" name="q5" value="It stays in the same place"> It stays in the same place<br>
                </label>

                <br>
                <button onclick="checkFunctionAnswers()">Submit Quiz</button>
                <div id="result"></div>
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Pointers Course</p>
    </footer>
    <script src="script.js"></script>
</body>
</html>

            
